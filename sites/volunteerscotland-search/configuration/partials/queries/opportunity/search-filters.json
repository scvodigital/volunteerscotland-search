{{#if location ~}}
{
  "bool": {
    "should": [
      {{>queries_opportunity_search_filters_locations @root.request.params.query}}
      {{>queries_opportunity_search_filters_areas @root.request.params.query}}
      {{>queries_do_nothing}}
    ],
    "minimum_should_match": 2
  }
},
{{/if ~}}
{{#if age ~}}
{{>queries_term field="volunteersearch_age_slugs" term=age}},
{{/if ~}}
{{>queries_do_nothing}}